[2025-12-05 12:05:23] ======================================================================
[2025-12-05 12:05:23] GPU ENCODING BENCHMARK STARTED
[2025-12-05 12:05:23] ======================================================================
[2025-12-05 12:05:23] 
--- SYSTEM INFORMATION ---
[2025-12-05 12:05:24]   hostname: ybh-compilation
[2025-12-05 12:05:24]   platform: Windows
[2025-12-05 12:05:24]   python: 3.13.9
[2025-12-05 12:05:24]   gpu_name: NVIDIA GeForce RTX 5060 Ti
[2025-12-05 12:05:24]   driver_version: 581.57
[2025-12-05 12:05:24]   gpu_memory_mb: 16311
[2025-12-05 12:05:24]   pcie_gen: 1
[2025-12-05 12:05:24]   pcie_width: 8
[2025-12-05 12:05:24]   gpu_clock_mhz: 240
[2025-12-05 12:05:24]   mem_clock_mhz: 405
[2025-12-05 12:05:24]   gpu_temp_c: 32
[2025-12-05 12:05:24]   power_draw_w: 7.39
[2025-12-05 12:05:24]   cpu_name: 12th Gen Intel(R) Core(TM) i7-12700F
[2025-12-05 12:05:24] 
--- CHECKING NVENC SUPPORT ---
[2025-12-05 12:05:24]   h264_nvenc available: True
[2025-12-05 12:05:24] 
--- FINDING TEST VIDEOS ---
[2025-12-05 12:05:24]   Found: ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4
[2025-12-05 12:05:24]     Resolution: 3840x2160
[2025-12-05 12:05:24]     Duration: 116.3s, FPS: 25.0, Size: 224.13MB
[2025-12-05 12:05:24]   Found: ABC_OS_Ifyoureazombieandyouarehungry_nyv-26Sep-2025-15-37-32.mp4
[2025-12-05 12:05:24]     Resolution: 3840x2160
[2025-12-05 12:05:24]     Duration: 132.4s, FPS: 25.0, Size: 1293.89MB
[2025-12-05 12:05:24]   Found: ABC_OS_Zombiebeachparty_nyv-02Sep-2025-10-56-58.mp4
[2025-12-05 12:05:24]     Resolution: 3840x2160
[2025-12-05 12:05:24]     Duration: 160.2s, FPS: 25.0, Size: 1575.27MB
[2025-12-05 12:05:24]   Found: ABC_OS_Zombiesmarchingonebyone_nyv-26Sep-2025-15-20-25.mp4
[2025-12-05 12:05:24]     Resolution: 3840x2160
[2025-12-05 12:05:24]     Duration: 192.8s, FPS: 25.0, Size: 377.05MB
[2025-12-05 12:05:24]   Found: test_combined_cpu_fast.mp4
[2025-12-05 12:05:24]     Resolution: 0x0
[2025-12-05 12:05:24]     Duration: 0.0s, FPS: 30.0, Size: 0.0MB
[2025-12-05 12:05:25]   Found: test_combined_gpu_p3.mp4
[2025-12-05 12:05:25]     Resolution: 3840x2160
[2025-12-05 12:05:25]     Duration: 116.3s, FPS: 25.0, Size: 128.86MB
[2025-12-05 12:05:25]   Found: test_overlay_cpu_fast.mp4
[2025-12-05 12:05:25]     Resolution: 3840x2160
[2025-12-05 12:05:25]     Duration: 116.3s, FPS: 25.0, Size: 118.67MB
[2025-12-05 12:05:25]   Found: test_overlay_gpu_p3.mp4
[2025-12-05 12:05:25]     Resolution: 3840x2160
[2025-12-05 12:05:25]     Duration: 116.3s, FPS: 25.0, Size: 128.79MB
[2025-12-05 12:05:25]   Found: test_pure_cpu_ultrafast.mp4
[2025-12-05 12:05:25]     Resolution: 3840x2160
[2025-12-05 12:05:25]     Duration: 116.3s, FPS: 25.0, Size: 129.24MB
[2025-12-05 12:05:25]   Found: test_pure_gpu_p1.mp4
[2025-12-05 12:05:25]     Resolution: 3840x2160
[2025-12-05 12:05:25]     Duration: 116.3s, FPS: 25.0, Size: 132.15MB
[2025-12-05 12:05:25]   Found: test_pure_gpu_p3.mp4
[2025-12-05 12:05:25]     Resolution: 3840x2160
[2025-12-05 12:05:25]     Duration: 116.3s, FPS: 25.0, Size: 128.8MB
[2025-12-05 12:05:25]   Found: test_pure_gpu_p5.mp4
[2025-12-05 12:05:25]     Resolution: 3840x2160
[2025-12-05 12:05:25]     Duration: 116.3s, FPS: 25.0, Size: 126.76MB
[2025-12-05 12:05:25]   Found: test_text_cpu_fast.mp4
[2025-12-05 12:05:25]     Resolution: 0x0
[2025-12-05 12:05:25]     Duration: 0.0s, FPS: 30.0, Size: 0.0MB
[2025-12-05 12:05:25]   Found: test_text_gpu_p3.mp4
[2025-12-05 12:05:25]     Resolution: 3840x2160
[2025-12-05 12:05:25]     Duration: 116.3s, FPS: 25.0, Size: 128.72MB
[2025-12-05 12:05:25] 
--- OVERLAY PNG ---
[2025-12-05 12:05:25]   Found overlay: ABC_English.png
[2025-12-05 12:05:25] 
--- USING TEST VIDEO: ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 ---
[2025-12-05 12:05:25] 
======================================================================
[2025-12-05 12:05:25] BOTTLENECK DIAGNOSIS - Finding the root cause
[2025-12-05 12:05:25] ======================================================================
[2025-12-05 12:05:25] 
==================================================
[2025-12-05 12:05:25] BOTTLENECK DIAGNOSIS TESTS
[2025-12-05 12:05:25] ==================================================
[2025-12-05 12:05:25] 
[A] GPU-ONLY PIPELINE (NVDEC -> NVENC)
[2025-12-05 12:05:25]     If this is slow: GPU hardware issue
[2025-12-05 12:05:25] Running: GPU-only pipeline
[2025-12-05 12:05:25] Command: ffmpeg -y -hwaccel cuda -hwaccel_output_format cuda -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 -c:v h264_nvenc -preset p3 -c:a copy -f null -
[2025-12-05 12:05:39]   Elapsed: 13.52s, Speed: 6.77x, FPS: 0.0
[2025-12-05 12:05:39]     -> GPU processing: 6.77x realtime
[2025-12-05 12:05:39] 
[B] CPU DECODE -> GPU ENCODE (PCIe upload test)
[2025-12-05 12:05:39]     If slower than [A]: PCIe upload is bottleneck
[2025-12-05 12:05:39] Running: CPU decode -> GPU encode
[2025-12-05 12:05:39] Command: ffmpeg -y -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 -c:v h264_nvenc -preset p3 -c:a copy -f null -
[2025-12-05 12:06:06]   Elapsed: 27.01s, Speed: 1.75x, FPS: 0.0
[2025-12-05 12:06:06]     -> With CPU decode: 1.75x realtime
[2025-12-05 12:06:06] 
[C] GPU DECODE -> CPU ENCODE (PCIe download test)
[2025-12-05 12:06:06]     If slower than [A]: PCIe download is bottleneck
[2025-12-05 12:06:06] Running: GPU decode -> CPU encode
[2025-12-05 12:06:06] Command: ffmpeg -y -hwaccel cuda -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 -c:v libx264 -preset ultrafast -crf 23 -c:a copy -f null -
[2025-12-05 12:06:43]   Elapsed: 36.74s, Speed: 0.471x, FPS: 0.0
[2025-12-05 12:06:43]     -> With GPU decode + CPU encode: 0.471x realtime
[2025-12-05 12:06:43] 
[D] CPU-ONLY PIPELINE (baseline)
[2025-12-05 12:06:43]     Baseline for comparison
[2025-12-05 12:06:43] Running: CPU-only pipeline
[2025-12-05 12:06:43] Command: ffmpeg -y -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 -c:v libx264 -preset ultrafast -crf 23 -c:a copy -f null -
[2025-12-05 12:07:36]   Elapsed: 52.96s, Speed: 1.12x, FPS: 0.0
[2025-12-05 12:07:36]     -> CPU only: 1.12x realtime
[2025-12-05 12:07:36] 
[E] COMPLEX FILTER TEST (forces CPU-GPU sync)
[2025-12-05 12:07:36]     If much slower: CPU-GPU data transfer is bottleneck
[2025-12-05 12:07:36] Running: With filter chain
[2025-12-05 12:07:36] Command: ffmpeg -y -hwaccel cuda -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 -vf scale=1920:1080,eq=brightness=0.01 -c:v h264_nvenc -preset p3 -c:a copy -f null -
[2025-12-05 12:08:17]   Elapsed: 41.26s, Speed: 1.62x, FPS: 0.0
[2025-12-05 12:08:17]     -> With filters: 1.62x realtime
[2025-12-05 12:08:17] 
[F] DISK READ TEST (decode to null)
[2025-12-05 12:08:17]     Tests storage read speed
[2025-12-05 12:08:17] Running: Disk read + decode
[2025-12-05 12:08:17] Command: ffmpeg -y -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 -f null -
[2025-12-05 12:08:41]   Elapsed: 24.46s, Speed: 2.38x, FPS: 0.0
[2025-12-05 12:08:41]     -> Disk read: 2.38x realtime
[2025-12-05 12:08:41] 
--------------------------------------------------
[2025-12-05 12:08:41] DIAGNOSIS ANALYSIS:
[2025-12-05 12:08:41] --------------------------------------------------
[2025-12-05 12:08:41] 
  GPU Pipeline Speed: 6.77x
[2025-12-05 12:08:41]   WARNING: CPU decode slows down by 287%
[2025-12-05 12:08:41]   -> Possible PCIe UPLOAD bottleneck
[2025-12-05 12:08:41]   GPU encode is 6.0x faster than CPU
[2025-12-05 12:08:41]   WARNING: Filters slow down by 318%
[2025-12-05 12:08:41]   -> CPU-GPU sync overhead detected
[2025-12-05 12:08:41]   WARNING: Disk read may be limiting (2.38x vs 6.77x)
[2025-12-05 12:08:41] 
==================================================
[2025-12-05 12:08:41] DECODING BENCHMARKS
[2025-12-05 12:08:41] ==================================================
[2025-12-05 12:08:41] Running: Decoding (CPU)
[2025-12-05 12:08:41] Command: ffmpeg -y -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 -f null -
[2025-12-05 12:09:06]   Elapsed: 24.68s, Speed: 4.05x, FPS: 0.0
[2025-12-05 12:09:06] Running: Decoding (GPU NVDEC)
[2025-12-05 12:09:06] Command: ffmpeg -y -hwaccel cuda -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 -f null -
[2025-12-05 12:09:31]   Elapsed: 25.10s, Speed: 4.19x, FPS: 0.0
[2025-12-05 12:09:31] 
==================================================
[2025-12-05 12:09:31] PURE ENCODING BENCHMARKS (no filters)
[2025-12-05 12:09:31] ==================================================
[2025-12-05 12:09:31] Running: Pure encoding (GPU, preset=p1)
[2025-12-05 12:09:31] Command: ffmpeg -y -hwaccel cuda -hwaccel_output_format cuda -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 -c:v h264_nvenc -preset p1 -rc vbr -cq 23 -maxrate 9M -bufsize 12M -c:a copy C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\test_pure_gpu_p1.mp4
[2025-12-05 12:09:41]   Elapsed: 10.03s, Speed: 7.89x, FPS: 0.0
[2025-12-05 12:09:41] Running: Pure encoding (GPU, preset=p3)
[2025-12-05 12:09:41] Command: ffmpeg -y -hwaccel cuda -hwaccel_output_format cuda -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 -c:v h264_nvenc -preset p3 -rc vbr -cq 23 -maxrate 9M -bufsize 12M -c:a copy C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\test_pure_gpu_p3.mp4
[2025-12-05 12:09:55]   Elapsed: 13.72s, Speed: 6.66x, FPS: 0.0
[2025-12-05 12:09:55] Running: Pure encoding (GPU, preset=p5)
[2025-12-05 12:09:55] Command: ffmpeg -y -hwaccel cuda -hwaccel_output_format cuda -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 -c:v h264_nvenc -preset p5 -rc vbr -cq 23 -maxrate 9M -bufsize 12M -c:a copy C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\test_pure_gpu_p5.mp4
[2025-12-05 12:10:23]   Elapsed: 27.68s, Speed: 2.49x, FPS: 0.0
[2025-12-05 12:10:23] 
==================================================
[2025-12-05 12:10:23] PNG OVERLAY BENCHMARKS (GPU)
[2025-12-05 12:10:23] ==================================================
[2025-12-05 12:10:23] Running: PNG overlay (GPU, preset=p3)
[2025-12-05 12:10:23] Command: ffmpeg -y -hwaccel cuda -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_English.png -filter_complex [0:v][1:v]overlay=10:10 -c:v h264_nvenc -preset p3 -rc vbr -cq 23 -maxrate 9M -bufsize 12M -c:a copy C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\test_overlay_gpu_p3.mp4
[2025-12-05 12:11:13]   Elapsed: 50.29s, Speed: 0.783x, FPS: 0.0
[2025-12-05 12:11:13] 
==================================================
[2025-12-05 12:11:13] FILTER BENCHMARKS (GPU)
[2025-12-05 12:11:13] ==================================================
[2025-12-05 12:11:13] Running: Filter test (GPU, preset=p3)
[2025-12-05 12:11:13] Command: ffmpeg -y -hwaccel cuda -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 -vf eq=brightness=0.02:contrast=1.1 -c:v h264_nvenc -preset p3 -rc vbr -cq 23 -maxrate 9M -bufsize 12M -c:a copy C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\test_text_gpu_p3.mp4
[2025-12-05 12:12:07]   Elapsed: 54.18s, Speed: 0.391x, FPS: 0.0
[2025-12-05 12:12:07] 
==================================================
[2025-12-05 12:12:07] COMBINED FILTER BENCHMARKS (GPU)
[2025-12-05 12:12:07] ==================================================
[2025-12-05 12:12:07] Running: Combined filters (GPU, preset=p3)
[2025-12-05 12:12:07] Command: ffmpeg -y -hwaccel cuda -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 -i C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\ABC_English.png -filter_complex [0:v][1:v]overlay=10:10,eq=brightness=0.02 -c:v h264_nvenc -preset p3 -rc vbr -cq 23 -maxrate 9M -bufsize 12M -c:a copy C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\test_combined_gpu_p3.mp4
[2025-12-05 12:13:03]   Elapsed: 56.18s, Speed: 0.535x, FPS: 0.0
[2025-12-05 12:13:03] 
======================================================================
[2025-12-05 12:13:03] BENCHMARK SUMMARY
[2025-12-05 12:13:03] ======================================================================
[2025-12-05 12:13:03] 
System: ybh-compilation
[2025-12-05 12:13:03] GPU: NVIDIA GeForce RTX 5060 Ti
[2025-12-05 12:13:03] PCIe: Gen 1 x8
[2025-12-05 12:13:03] Video: ABC_OS_Fivezombiesjumpinginthemiddleofthenight_nyv-26Sep-2025-15-28-59.mp4 (3840x2160, 116.3s)
[2025-12-05 12:13:03] 
--- ENCODING SPEEDS ---
[2025-12-05 12:13:03] Test                                Time (s)     Speed      FPS       
[2025-12-05 12:13:03] ----------------------------------------------------------------------
[2025-12-05 12:13:03] decode_cpu                          24.7s        4.05x      N/A       
[2025-12-05 12:13:03] decode_gpu                          25.1s        4.19x      N/A       
[2025-12-05 12:13:03] encode_gpu_p1                       10.0s        7.89x      N/A       
[2025-12-05 12:13:03] encode_gpu_p3                       13.7s        6.66x      N/A       
[2025-12-05 12:13:03] encode_gpu_p5                       27.7s        2.49x      N/A       
[2025-12-05 12:13:03] overlay_gpu_p3                      50.3s        0.783x     N/A       
[2025-12-05 12:13:03] filter_gpu_p3                       54.2s        0.391x     N/A       
[2025-12-05 12:13:03] combined_gpu_p3                     56.2s        0.535x     N/A       
[2025-12-05 12:13:03] 
Results saved to:
[2025-12-05 12:13:03]   Log: C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\benchmark_results_20251205_120523.txt
[2025-12-05 12:13:03]   JSON: C:\Users\uzair\softwares\video-compilation-2.0\test_gpu\benchmark_results_20251205_121303.json
[2025-12-05 12:13:03] 
======================================================================
[2025-12-05 12:13:03] KEY METRICS FOR COMPARISON (copy this)
[2025-12-05 12:13:03] ======================================================================
[2025-12-05 12:13:03] PC: ybh-compilation
[2025-12-05 12:13:03] GPU: NVIDIA GeForce RTX 5060 Ti
[2025-12-05 12:13:03] PCIe: Gen 1 x8
[2025-12-05 12:13:03] Driver: 581.57
[2025-12-05 12:13:03] 
DIAGNOSIS SPEEDS (x realtime):
[2025-12-05 12:13:03]   [A] GPU-only (NVDEC->NVENC): 6.77x
[2025-12-05 12:13:03]   [B] CPU decode->GPU encode: 1.75x
[2025-12-05 12:13:03]   [C] GPU decode->CPU encode: 0.471x
[2025-12-05 12:13:03]   [D] CPU-only:               1.12x
[2025-12-05 12:13:03]   [E] With filters:           1.62x
[2025-12-05 12:13:03]   [F] Disk read:              2.38x
[2025-12-05 12:13:03] 
INTERPRETATION:
[2025-12-05 12:13:03]   - If [A] is slow: GPU hardware/driver issue
[2025-12-05 12:13:03]   - If [B] << [A]: PCIe UPLOAD bottleneck (CPU->GPU)
[2025-12-05 12:13:03]   - If [C] << [D]: PCIe DOWNLOAD bottleneck (GPU->CPU)
[2025-12-05 12:13:03]   - If [E] << [A]: CPU-GPU sync overhead
[2025-12-05 12:13:03]   - If [F] is slow: Storage bottleneck
[2025-12-05 12:13:03] 
======================================================================
[2025-12-05 12:13:03] BENCHMARK COMPLETE
[2025-12-05 12:13:03] ======================================================================
